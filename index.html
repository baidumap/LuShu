<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<!--     <meta http-equiv="X-UA-Compatible" content="chrome=1"> -->
    <title>LuShu by baidumap</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/LuShu/1.2/src/LuShu_min.js"></script>

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/baidumap/LuShu">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/LuShu/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/LuShu/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">
      <div id="title">
        <h1>LuShu</h1>
        <p>baidu地图路书工具</p>
        <hr>
        <span class="credits left">Project maintained by <a href="https://github.com/baidumap">baidumap</a></span>
        <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
      </div>
      <div id="map_canvas" style="width:600px;height:480px"></div> 
      <div id="result" style="float:right;position:absolute;left:700px;top:0;"></div>
      <button id="run" >run</button> 
      <button id="stop">stop</button> 
      <button id="pause">pause</button> 
      <button id="hide">hide infoWindow</button> 
      <button id="show">show infoWindow</button> 
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
<script> 
var map = new BMap.Map('map_canvas');
map.centerAndZoom(new BMap.Point(116.404, 39.915), 13);
var lushu;
// 实例化一个驾车导航用来生成路线
var drv = new BMap.DrivingRoute('北京', {
    onSearchComplete: function(res) {
        if (drv.getStatus() == BMAP_STATUS_SUCCESS) {
            var arrPois = res.getPlan(0).getRoute(0).getPath();
            map.addOverlay(new BMap.Polyline(arrPois, {strokeColor: '#111'}));
            map.setViewport(arrPois);
            
            lushu = new BMapLib.LuShu(map,arrPois,{
            defaultContent:"从万寿路到朝阳公园",
            speed:4500,
            landmarkPois: [
               {lng:116.314782,lat:39.913508,html:'加油站',pauseTime:2},
               {lng:116.315391,lat:39.964429,html:'高速公路收费<div><img src="http://map.baidu.com/img/logo-map.gif"/></div>',pauseTime:3},
               {lng:116.381476,lat:39.974073,html:'肯德基早餐<div><img src="http://ishouji.baidu.com/resource/images/map/show_pic04.gif"/></div>',pauseTime:2}
            ]});          
        }
    }
});
drv.search('万寿路', '北京朝阳公园');
//绑定事件
$("run").onclick = function(){
    lushu.start();
}
$("stop").onclick = function(){
    lushu.stop();
}
$("pause").onclick = function(){
    lushu.pause();
}
$("hide").onclick = function(){
    lushu.hideInfoWindow();
}
$("show").onclick = function(){
    lushu.showInfoWindow();
}
function $(element){
    return document.getElementById(element);
}
</script> 
  </body>
</html>